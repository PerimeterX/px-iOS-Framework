{"primaryContentSections":[{"kind":"content","content":[{"anchor":"Overview","level":3,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The PerimeterX iOS SDK v2.0 includes a complete new set of APIs. The current integration implemented in your code with an earlier SDK version will have to be replaced as following."}]},{"anchor":"Start-the-SDK","level":3,"type":"heading","text":"Start the SDK"},{"type":"paragraph","inlineContent":[{"type":"text","text":"In version 1.x, the "},{"type":"codeVoice","code":"start"},{"type":"text","text":" function is called with 2 parameters: "},{"type":"codeVoice","code":"AppId"},{"type":"text","text":" and "},{"type":"codeVoice","code":"enableDoctorCheck"},{"type":"text","text":" (the later was added in 1.16.0)."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"In version 2.0, the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.perimeterx.mobile-sdk\/documentation\/PerimeterX_SDK\/PerimeterX\/start(appId:delegate:enableDoctorCheck:completion:)"},{"type":"text","text":" function has another parameter: delegate ("},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.perimeterx.mobile-sdk\/documentation\/PerimeterX_SDK\/PerimeterXDelegate"},{"type":"text","text":") to handle the SDK’s events. Notice that the new Interceptor will be enabled in 2.0. This has effect on the integration with the SDK, which will be described later in this document."}]},{"anchor":"Set-custom-parameters","level":3,"type":"heading","text":"Set custom parameters"},{"type":"paragraph","inlineContent":[{"type":"text","text":"In version 1.x, the set custom parameters function is called with the dictionary parameter only."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"In version 2.0, the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.perimeterx.mobile-sdk\/documentation\/PerimeterX_SDK\/PerimeterX\/setCustomParameters(parameters:forAppId:completion:)"},{"type":"text","text":" function has another optional param: the AppID. This is required only when using multiple AppIDs."}]},{"anchor":"Get-VID","level":3,"type":"heading","text":"Get VID"},{"type":"paragraph","inlineContent":[{"type":"text","text":"In version 1.x, the get VID function is called without any parameters."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"In version 2.0, the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.perimeterx.mobile-sdk\/documentation\/PerimeterX_SDK\/PerimeterX\/vid(forAppId:)"},{"type":"text","text":" function has another optional param: the AppID. This is required only when using multiple AppIDs."}]},{"anchor":"Get-HTTP-headers","level":3,"type":"heading","text":"Get HTTP headers"},{"type":"paragraph","inlineContent":[{"type":"text","text":"In version 1.x, the get HTTP headers function is called without any parameters."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"In version 2.0, the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.perimeterx.mobile-sdk\/documentation\/PerimeterX_SDK\/PerimeterX\/headersForURLRequest(forAppId:)"},{"type":"text","text":" function has another optional param: the AppID. This is required only when using multiple AppIDs. Please note that now this function should NOT be used when the interceptor is enabled."}]},{"anchor":"Check-error-and-handle-response","level":3,"type":"heading","text":"Check error and handle response"},{"type":"paragraph","inlineContent":[{"type":"text","text":"In version 1.x, a function is called to get the PX’s error response from the request’s response which called another function to handle the PX’s error response."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"In version 2.0 the flow is much easier:"}]},{"type":"orderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"If the interceptor is enabled, simply check whether the request was blocked with the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.perimeterx.mobile-sdk\/documentation\/PerimeterX_SDK\/PerimeterX\/isRequestBlockedError(error:)"},{"type":"text","text":" function."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"If the interceptor is disabled, use the PerimeterX SDK to handle the response with the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.perimeterx.mobile-sdk\/documentation\/PerimeterX_SDK\/PerimeterX\/handleResponse(forAppId:data:response:)"},{"type":"text","text":" function. If it was a blocked response, the SDK will handle it and the function will return "},{"type":"codeVoice","code":"true"},{"type":"text","text":"."}]}]}]},{"anchor":"Other-functions","level":3,"type":"heading","text":"Other functions"},{"type":"paragraph","inlineContent":[{"type":"text","text":"All other functions in 1.x were removed from the SDK’s API. You can learn more about the integration with those articles:"}]},{"type":"orderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.perimeterx.mobile-sdk\/documentation\/PerimeterX_SDK\/IntegrationGuide"},{"type":"text","text":"."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/com.perimeterx.mobile-sdk\/documentation\/PerimeterX_SDK\/BeyondTheBasic"},{"type":"text","text":"."}]}]}]}]}],"schemaVersion":{"major":0,"minor":1,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/perimeterx_sdk\/migration"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/com.perimeterx.mobile-sdk\/documentation\/PerimeterX_SDK\/Migration","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"In this article we will explore how to upgrade the Perimeter X iOS SDK from an earlier version (1.x and below) to version 2.0."}],"kind":"article","metadata":{"roleHeading":"Article","title":"Migration from earlier SDK versions","role":"article","modules":[{"name":"PerimeterX_SDK"}]},"hierarchy":{"paths":[["doc:\/\/com.perimeterx.mobile-sdk\/documentation\/PerimeterX_SDK"]]},"references":{"doc://com.perimeterx.mobile-sdk/documentation/PerimeterX_SDK/PerimeterX/headersForURLRequest(forAppId:)":{"role":"symbol","title":"headersForURLRequest(forAppId:)","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"headersForURLRequest"},{"kind":"text","text":"("},{"kind":"externalParam","text":"forAppId"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":"?) -> ["},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":" : "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":"]"}],"abstract":[{"type":"text","text":"Returns HTTP headers that should be added to the URL request."}],"identifier":"doc:\/\/com.perimeterx.mobile-sdk\/documentation\/PerimeterX_SDK\/PerimeterX\/headersForURLRequest(forAppId:)","kind":"symbol","type":"topic","url":"\/documentation\/perimeterx_sdk\/perimeterx\/headersforurlrequest(forappid:)"},"doc://com.perimeterx.mobile-sdk/documentation/PerimeterX_SDK/PerimeterX/isRequestBlockedError(error:)":{"role":"symbol","title":"isRequestBlockedError(error:)","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"isRequestBlockedError"},{"kind":"text","text":"("},{"kind":"externalParam","text":"error"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Error","preciseIdentifier":"s:s5ErrorP"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"}],"abstract":[{"type":"text","text":"Returns true if the error is "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.perimeterx.mobile-sdk\/documentation\/PerimeterX_SDK\/PerimeterXErrorCode\/requestWasBlocked"},{"type":"text","text":" error."}],"identifier":"doc:\/\/com.perimeterx.mobile-sdk\/documentation\/PerimeterX_SDK\/PerimeterX\/isRequestBlockedError(error:)","kind":"symbol","type":"topic","url":"\/documentation\/perimeterx_sdk\/perimeterx\/isrequestblockederror(error:)"},"doc://com.perimeterx.mobile-sdk/documentation/PerimeterX_SDK/PerimeterXErrorCode/requestWasBlocked":{"role":"symbol","title":"PerimeterXErrorCode.requestWasBlocked","fragments":[{"kind":"keyword","text":"case"},{"kind":"text","text":" "},{"kind":"identifier","text":"requestWasBlocked"}],"abstract":[],"identifier":"doc:\/\/com.perimeterx.mobile-sdk\/documentation\/PerimeterX_SDK\/PerimeterXErrorCode\/requestWasBlocked","kind":"symbol","type":"topic","url":"\/documentation\/perimeterx_sdk\/perimeterxerrorcode\/requestwasblocked"},"doc://com.perimeterx.mobile-sdk/documentation/PerimeterX_SDK/PerimeterX/start(appId:delegate:enableDoctorCheck:completion:)":{"role":"symbol","title":"start(appId:delegate:enableDoctorCheck:completion:)","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"start"},{"kind":"text","text":"("},{"kind":"externalParam","text":"appId"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":", "},{"kind":"externalParam","text":"delegate"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"PerimeterXDelegate","preciseIdentifier":"c:@M@PerimeterX_SDK@objc(pl)PerimeterXDelegate"},{"kind":"text","text":"?, "},{"kind":"externalParam","text":"enableDoctorCheck"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"kind":"text","text":", "},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": ("},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"kind":"text","text":", "},{"kind":"typeIdentifier","text":"Error","preciseIdentifier":"s:s5ErrorP"},{"kind":"text","text":"?) -> ())"}],"abstract":[{"type":"text","text":"Start the PerimeterX SDK."}],"identifier":"doc:\/\/com.perimeterx.mobile-sdk\/documentation\/PerimeterX_SDK\/PerimeterX\/start(appId:delegate:enableDoctorCheck:completion:)","kind":"symbol","type":"topic","url":"\/documentation\/perimeterx_sdk\/perimeterx\/start(appid:delegate:enabledoctorcheck:completion:)"},"doc://com.perimeterx.mobile-sdk/documentation/PerimeterX_SDK/BeyondTheBasic":{"role":"article","title":"Beyond the Basic","abstract":[{"type":"text","text":"In this article we will explore more advanced topics that will help you to get the most out of the SDK."}],"identifier":"doc:\/\/com.perimeterx.mobile-sdk\/documentation\/PerimeterX_SDK\/BeyondTheBasic","kind":"article","type":"topic","url":"\/documentation\/perimeterx_sdk\/beyondthebasic"},"doc://com.perimeterx.mobile-sdk/documentation/PerimeterX_SDK/PerimeterX/vid(forAppId:)":{"role":"symbol","title":"vid(forAppId:)","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"vid"},{"kind":"text","text":"("},{"kind":"externalParam","text":"forAppId"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":"?) -> "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":"?"}],"abstract":[{"type":"text","text":"Get the VID for given AppID."}],"identifier":"doc:\/\/com.perimeterx.mobile-sdk\/documentation\/PerimeterX_SDK\/PerimeterX\/vid(forAppId:)","kind":"symbol","type":"topic","url":"\/documentation\/perimeterx_sdk\/perimeterx\/vid(forappid:)"},"doc://com.perimeterx.mobile-sdk/documentation/PerimeterX_SDK":{"role":"collection","title":"PerimeterX_SDK","abstract":[{"type":"image","identifier":"PerimeterX.png"}],"identifier":"doc:\/\/com.perimeterx.mobile-sdk\/documentation\/PerimeterX_SDK","kind":"symbol","type":"topic","url":"\/documentation\/perimeterx_sdk"},"doc://com.perimeterx.mobile-sdk/documentation/PerimeterX_SDK/PerimeterXDelegate":{"role":"symbol","title":"PerimeterXDelegate","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"PerimeterXDelegate"}],"abstract":[{"type":"text","text":"PerimeterX protocol"}],"identifier":"doc:\/\/com.perimeterx.mobile-sdk\/documentation\/PerimeterX_SDK\/PerimeterXDelegate","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"PerimeterXDelegate"}],"url":"\/documentation\/perimeterx_sdk\/perimeterxdelegate"},"doc://com.perimeterx.mobile-sdk/documentation/PerimeterX_SDK/PerimeterX/setCustomParameters(parameters:forAppId:completion:)":{"role":"symbol","title":"setCustomParameters(parameters:forAppId:completion:)","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"setCustomParameters"},{"kind":"text","text":"("},{"kind":"externalParam","text":"parameters"},{"kind":"text","text":": ["},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":" : "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":"], "},{"kind":"externalParam","text":"forAppId"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":"?, "},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": (() -> ())?)"}],"abstract":[{"type":"text","text":"Set custom parameters for given AppID."}],"identifier":"doc:\/\/com.perimeterx.mobile-sdk\/documentation\/PerimeterX_SDK\/PerimeterX\/setCustomParameters(parameters:forAppId:completion:)","kind":"symbol","type":"topic","url":"\/documentation\/perimeterx_sdk\/perimeterx\/setcustomparameters(parameters:forappid:completion:)"},"doc://com.perimeterx.mobile-sdk/documentation/PerimeterX_SDK/IntegrationGuide":{"role":"article","title":"Integration Guide","abstract":[{"type":"text","text":"This document provides instructions to how to integrate Perimeter X iOS SDK v2.0 into your project."}],"identifier":"doc:\/\/com.perimeterx.mobile-sdk\/documentation\/PerimeterX_SDK\/IntegrationGuide","kind":"article","type":"topic","url":"\/documentation\/perimeterx_sdk\/integrationguide"},"doc://com.perimeterx.mobile-sdk/documentation/PerimeterX_SDK/PerimeterX/handleResponse(forAppId:data:response:)":{"role":"symbol","title":"handleResponse(forAppId:data:response:)","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"handleResponse"},{"kind":"text","text":"("},{"kind":"externalParam","text":"forAppId"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":"?, "},{"kind":"externalParam","text":"data"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Data","preciseIdentifier":"s:10Foundation4DataV"},{"kind":"text","text":", "},{"kind":"externalParam","text":"response"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"URLResponse","preciseIdentifier":"c:objc(cs)NSURLResponse"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"}],"abstract":[{"type":"text","text":"This function handles the URL request’s response and presents the block screen, if necessary."}],"identifier":"doc:\/\/com.perimeterx.mobile-sdk\/documentation\/PerimeterX_SDK\/PerimeterX\/handleResponse(forAppId:data:response:)","kind":"symbol","type":"topic","url":"\/documentation\/perimeterx_sdk\/perimeterx\/handleresponse(forappid:data:response:)"}}}